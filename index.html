<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>高額療養費計算サイト</title>
</head>
<body>
    <h1>高額療養費計算サイト</h1>
    <p>このサイトでは、医療費が高額になった場合に適用される高額療養費制度を計算します。</p>
    <p>以下の情報を入力して計算を行ってください。</p>

    <form id="kougakuryouyouhi-form">
        <label for="income">世帯年収（万円）:</label>
        <select id="income" name="income">
            <option value="300">300万円以下</option>
            <option value="500">500万円以下</option>
            <option value="700">700万円以下</option>
            <option value="1000">1000万円以下</option>
            <option value="above1000">1000万円以上</option>
        </select>
        <br><br>

        <label for="medical-expense">今月の医療費（円）:</label>
        <select id="medical-expense" name="medical-expense">
            <option value="10000">10,000円以下</option>
            <option value="50000">50,000円以下</option>
            <option value="100000">100,000円以下</option>
            <option value="150000">150,000円以下</option>
            <option value="above150000">150,000円以上</option>
        </select>
        <br><br>

        <label for="usage-count">何度目の高額療養費利用月ですか？:</label>
        <select id="usage-count" name="usage-count">
            <option value="1">1回目</option>
            <option value="2">2回目</option>
            <option value="3">3回目</option>
            <option value="4">4回目以降</option>
        </select>
        <br><br>

        <label for="additional-expenses">今月の追加医療費（任意）:</label>
        <input type="number" id="additional-expenses" name="additional-expenses" placeholder="例: 5000" />
        <br><br>

        <button type="button" onclick="calculate()">計算</button>
    </form>

    <div id="result"></div>

    <script>
        function calculate() {
            const income = document.getElementById('income').value;
            const medicalExpense = document.getElementById('medical-expense').value;
            const usageCount = document.getElementById('usage-count').value;
            const additionalExpenses = parseInt(document.getElementById('additional-expenses').value) || 0;

            let calculationResult = 0;

            // 年収に基づく計算（例）
            if (income <= 500) {
                calculationResult = 10000;
            } else if (income <= 700) {
                calculationResult = 15000;
            } else if (income <= 1000) {
                calculationResult = 20000;
            } else {
                calculationResult = 25000;
            }

            // 医療費に基づく計算（例）
            if (medicalExpense <= 10000) {
                calculationResult += 5000;
            } else if (medicalExpense <= 50000) {
                calculationResult += 10000;
            } else if (medicalExpense <= 100000) {
                calculationResult += 15000;
            } else {
                calculationResult += 20000;
            }

            // 追加医療費
            calculationResult += additionalExpenses;

            // 何度目の利用かに応じた調整
            if (usageCount == 2) {
                calculationResult -= 5000;
            } else if (usageCount == 3) {
                calculationResult -= 10000;
            } else if (usageCount >= 4) {
                calculationResult -= 15000;
            }

            document.getElementById('result').innerHTML = "高額療養費負担額は " + calculationResult + " 円 です。";
        }
    </script>
</body>
</html>
